<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ’ˆ C&D Barbershop â€“ Black Edition</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
/* Ihre Original-Stile */
body {
 Â  Â font-family:'Poppins',sans-serif;
 Â  Â background:#000;
 Â  Â color:#fff;
 Â  Â margin:0;
 Â  Â padding:0;
}
.container{width:90%;max-width:1200px;margin:0 auto;padding:20px;}
h2{text-align:center;margin-bottom:30px;font-weight:700;text-shadow:0 0 15px rgba(255,255,255,0.8);}
.header-banner{width:100%;height:300px;display:flex;justify-content:center;align-items:center;background:#000;overflow:hidden;}

.header-banner img{max-width:100%;max-height:100%;object-fit:contain;filter:brightness(1.2) contrast(1.1);}
.welcome-section{padding:30px 20px;background:rgba(255,255,255,0.05);border-radius:15px;max-width:900px;margin:40px auto;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,0.7);}
.welcome-section h1{font-size:2em;margin-bottom:10px;}
.welcome-section p{color:#ddd;line-height:1.6;}
.image-price-section{text-align:center;padding:20px 0;margin-bottom:50px;background:rgba(255,255,255,0.03);border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.7);}
.image-price-section img{max-width:500px;width:90%;border-radius:10px;box-shadow:0 0 15px rgba(255,255,255,0.2);}
.guestbook-section{padding:40px 20px;margin:40px auto;background:rgba(255,255,255,0.05);border-radius:15px;max-width:700px;box-shadow:0 10px 30px rgba(0,0,0,0.7);}
.guestbook-section input,.guestbook-section textarea{width:100%;padding:10px;margin-bottom:15px;border:1px solid rgba(255,255,255,0.2);border-radius:8px;background:rgba(0,0,0,0.5);color:#fff;}

.guestbook-section button{width:100%;padding:12px;border:none;border-radius:8px;background:#fdd835;color:#000;font-weight:700;cursor:pointer;}

.guestbook-section button:hover{background:#ffeb3b;}
#successMsg{text-align:center;color:#0f0;display:none;margin-top:10px;}
#guestEntries div{background:rgba(255,255,255,0.05);border-left:4px solid #fdd835;padding:10px 15px;border-radius:8px;margin-bottom:15px;}
.opening-hours{text-align:center;}
.opening-hours ul{list-style:none;padding:0;display:inline-block;text-align:left;}
.opening-hours li{padding:5px 0;border-bottom:1px solid rgba(255,255,255,0.1);}
footer{text-align:center;padding:15px 0;background:#050505;color:#888;margin-top:50px;border-top:1px solid rgba(255,255,255,0.1);}
.social-links a img{width:28px;height:28px;margin:0 8px;}
@media(max-width:768px){.header-banner{height:200px;}.image-price-section img{max-width:100%;}}

/* NEUE STYLES FÃœR STERNE-BEWERTUNG */
.star-rating {
Â  Â  font-size: 28px; /* Etwas kleiner als vorher, passt besser */
Â  Â  margin: 10px 0 25px;
Â  Â  color: #666;
Â  Â  display: flex;
Â  Â  justify-content: center;
Â  Â  gap: 8px;
}
.star-rating i { cursor: pointer; transition: transform 0.15s; }
.star-rating i:hover { transform: scale(1.15); }
.star-rating i.fa-solid { color: #fdd835; } /* Aktive Sterne */

/* Style fÃ¼r Sterne in den angezeigten EintrÃ¤gen */
.entry-stars i { color: #fdd835; font-size: 1.1em; } 

/* Entferne Label, da wir nun Platzhalter und Sterne nutzen */
.guestbook-section label { display: none; }
</style>
</head>
<body>
<div class="header-banner">
 Â  Â <img
src="https://raw.githubusercontent.com/Artonstyle/Barbershop/main/images/Barbershop-logo7.png"
 Â alt="C&D Barbershop Banner">
</div>
<div class="welcome-section">
 Â  Â <h1>Willkommen bei C&D Barbershop</h1>
 Â  Â <p>SchÃ¶n, dass Sie hier sind! C&D Barbershop steht fÃ¼r
QualitÃ¤t, Stil und PersÃ¶nlichkeit. In einer modernen AtmosphÃ¤re bieten
wir individuelle Beratung, trendige Schnitte und hochwertige Pflege â€“
fÃ¼r Ihr perfektes Haar- und BartgefÃ¼hl.</p>
</div>
<div class="container image-price-section">
 Â  Â <h2>ğŸ’‡â€â™‚ï¸ Unsere Preisliste</h2>
 Â  Â <img src="images/Barbershop-preisliste.png" alt="Aktuelle Preisliste">
</div>
<div class="container guestbook-section">
 Â  Â <h2>â­ Ihr Feedback</h2>
 Â  Â <p style="text-align:center;color:#aaa;">Wir freuen uns Ã¼ber Ihre Meinung!</p>
 Â  Â <form id="guestbookForm">
 Â  Â  Â Â  Â  Â <input type="text" id="guestName" placeholder="Ihr Name" required>
 Â  Â  Â Â  Â  Â <textarea id="guestText" placeholder="Ihr Beitrag" required></textarea>
 Â  Â  Â 
 Â  Â  Â Â  Â  Â <div class="star-rating" id="starRating">
 Â  Â  Â  Â  Â <i class="fa-regular fa-star" data-value="1"></i>
 Â  Â  Â  Â  Â <i class="fa-regular fa-star" data-value="2"></i>
 Â  Â  Â  Â  Â <i class="fa-regular fa-star" data-value="3"></i>
 Â  Â  Â  Â  Â <i class="fa-regular fa-star" data-value="4"></i>
 Â  Â  Â  Â  Â <i class="fa-regular fa-star" data-value="5"></i>
 Â  Â  Â </div>
 Â  Â  Â 
 Â  Â  Â <button type="submit">Beitrag absenden</button>
 Â  Â </form>
 Â  Â <p id="successMsg">âœ… Vielen Dank fÃ¼r Ihren Eintrag!</p>
 Â  Â <div id="guestEntries"></div>
</div>
<div class="container opening-hours">
 Â  Â <h2>ğŸ“ Kontakt</h2>
 Â  Â <p>Bachgasse 68, 69502 Hemsbach</p>
 Â  Â <p>ğŸ“ 0176 70794224</p>
 Â  Â <div class="social-links">
 Â  Â  <a href="https://www.instagram.com/cd_barbershop_/" target="_blank"><img
src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
 Â alt="Instagram"></a>
 Â  Â </div>
 Â  Â <h3>Ã–ffnungszeiten</h3>
 Â  Â <ul>
 Â  Â  Â <li><strong>Montag â€“ Freitag:</strong><br>09:00 â€“ 19:00 Uhr</li>
 Â  Â  Â <li><strong>Samstag:</strong><br>09:00 â€“ 18:00 Uhr</li>
 Â  Â  Â <li><strong>Sonntag:</strong><br>Geschlossen â›”</li>
 Â  Â </ul>
 Â  Â <p><a
href="https://www.google.com/maps/dir/?api=1&destination=Bachgasse+68,+69502+Hemsbach"
 Â target="_blank" style="color:#fdd835;">Route auf Google Maps
Ã¶ffnen</a></p>
</div>
<footer>
 Â  Â Â© 2025 C&D Barbershop | Black Edition
</footer>
<script>
// âœ… AKTUELLE GOOGLE-SCRIPT-URL
const sheetURL =
"https://script.google.com/macros/s/AKfycbzSBO9iha-NH0D4j3GfGjxsOdoko1AqwrEnM2ie-dy1zrfu2OtjNH4TvnZVIkWh0KDB/exec";

const form = document.getElementById("guestbookForm");
const guestEntriesDiv = document.getElementById("guestEntries");
const successMsg = document.getElementById("successMsg");
const submitBtn = form.querySelector('button[type="submit"]'); // NEU: Button-Referenz

// --- NEU: Star Rating FunktionalitÃ¤t ---
let selectedRating = 0;
document.querySelectorAll("#starRating i").forEach(star => {
    star.addEventListener("click", () => {
Â  Â  Â  Â  selectedRating = parseInt(star.getAttribute("data-value"));
Â  Â  Â  Â  updateStars(selectedRating);
Â  Â  });

    star.addEventListener("mouseover", () => {
        updateStars(parseInt(star.getAttribute("data-value")));
    });

    star.addEventListener("mouseout", () => {
        updateStars(selectedRating);
    });
});

function updateStars(rating) {
    document.querySelectorAll("#starRating i").forEach(s => {
        const value = parseInt(s.getAttribute("data-value"));
        const active = value <= rating;
        s.classList.toggle("fa-solid", active);
        s.classList.toggle("fa-regular", !active);
    });
}
// --- Ende Star Rating FunktionalitÃ¤t ---

// --- EintrÃ¤ge laden (GET) ---
async function loadEntries(){
 Â  Â try{
 Â  Â  Â  Â const res=await fetch(sheetURL);
 Â  Â  Â  Â const entries=await res.json();
 Â  Â  Â  Â if(!entries||!entries.length){
 Â  Â  Â  Â  Â  Â guestEntriesDiv.innerHTML='<p style="text-align:center;color:#888;">Noch keine EintrÃ¤ge.</p>';
 Â  Â  Â  Â  Â  Â return;
 Â  Â  Â  Â }
 Â  Â  Â  Â guestEntriesDiv.innerHTML=entries.reverse().map(e=>{
 Â  Â  Â  Â  Â  Â const d=new Date(e.date);
 Â  Â  Â  Â  Â  Â const
dateString=d.toLocaleString('de-DE',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});

            // NEU: Sterne-Anzeige generieren
            const entryRating = parseInt(e.rating || e.bewertung || 0);
            let starHtml = '';
            for (let i = 1; i <= 5; i++) {
                const active = i <= entryRating;
                starHtml += `<i class="${active ? 'fa-solid' : 'fa-regular'} fa-star"></i>`;
            }

 Â  Â  Â  Â  Â  Â return `<div>
 Â  Â  Â  Â  Â  Â  Â  Â <strong>${e.name||'Anonym'}</strong>
 Â  Â  Â  Â  Â  Â  Â  Â <span style="color:#888;font-size:0.9em;"> (${dateString})</span>
                <div class="entry-stars">${starHtml}</div>
 Â  Â  Â  Â  Â  Â  Â  Â <p style="color:#ccc;margin-top:5px;">${e.text}</p>
 Â  Â  Â  Â  Â  Â </div>`;
 Â  Â  Â  Â }).join('');
 Â  Â }catch(err){
 Â  Â  Â  Â console.error(err);
 Â  Â  Â  Â guestEntriesDiv.innerHTML='<p style="text-align:center;color:red;">Fehler beim Laden der EintrÃ¤ge.</p>';
 Â  Â }
}
// --- Formular absenden (POST) ---
form.addEventListener("submit",async e=>{
 Â  Â e.preventDefault();
 Â  Â const name=document.getElementById("guestName").value.trim();
 Â  Â const text=document.getElementById("guestText").value.trim();
    
    // NEU: PrÃ¼fung auf Stern-Bewertung
 Â  Â if(!name||!text||selectedRating === 0){
        alert("Bitte fÃ¼llen Sie alle Felder aus und geben Sie eine Bewertung ab (Sterne auswÃ¤hlen)!");
        return;
    }
 Â  Â try{
 Â  Â  Â  Â const data=new FormData();
 Â  Â  Â  Â data.append("name",name);
 Â  Â  Â  Â data.append("text",text);
        data.append("rating", selectedRating); // NEU: Bewertung anhÃ¤ngen
        
        // Button deaktivieren
        submitBtn.disabled = true;
        submitBtn.textContent = 'Wird gesendet...';

 Â  Â  Â  Â await fetch(sheetURL,{method:"POST",body:data});
 Â  Â  Â  Â 
        // Button wieder aktivieren
        submitBtn.disabled = false;
        submitBtn.textContent = 'Beitrag absenden';

 Â  Â  Â  Â form.reset();
        selectedRating = 0; // Sterne zurÃ¼cksetzen
        updateStars(0);

 Â  Â  Â  Â successMsg.style.display="block";
 Â  Â  Â  Â setTimeout(()=>successMsg.style.display="none",3000);
 Â  Â  Â  Â loadEntries();
 Â  Â }catch(err){
 Â  Â  Â  Â console.error(err);
 Â  Â  Â  Â alert("Fehler beim Senden!");
        submitBtn.disabled = false;
        submitBtn.textContent = 'Beitrag absenden';
 Â  Â }
});
document.addEventListener("DOMContentLoaded",loadEntries);
</script>
</body>
</html>
